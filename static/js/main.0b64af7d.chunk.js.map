{"version":3,"sources":["Providers/authProvider.js","Context/AuthContext.js","Components/Form.js","Hooks/useAuth.js","Pages/Login.js","Components/Posts/Post.js","Pages/All.js","Pages/Owned.js","Pages/Create.js","Components/Navbar.js","Components/Layout.js","Components/Auth/RequireAuth.js","App.js","index.js"],"names":["authProvider","isAuthenticated","signin","body","callback","error","a","axios","post","process","data","response","signout","AuthContext","createContext","AuthProvider","children","useState","user","setUser","value","signIn","signOut","Provider","FormGroup","type","name","id","placeholder","className","htmlFor","Form","items","submitText","handleSubmit","onSubmit","map","it","generate","useAuth","useContext","Login","navigate","useNavigate","location","useLocation","auth","from","state","pathname","e","preventDefault","formData","FormData","target","validate","Array","values","some","length","alert","Object","fromEntries","entries","replace","Comment","description","username","AddComment","postId","triggerUpdate","comm","useRef","emptyInput","setEmptyInput","useAxios","url","method","headers","Authorization","token","manual","createComment","current","console","log","ref","onChange","Post","identity","setIdentity","internalPost","setInternalPost","showComments","setShowComments","active","isActive","setIsActive","_id","update","likePost","togglePost","updateData","useEffect","get","res","getIdentity","role","onClick","icon","faEye","likes","faHeart","title","image","src","alt","comments","faComment","All","limit","page","paging","setPaging","params","fetcher","setLimitsForPaging","increment","pages","faArrowLeft","faArrowRight","Owned","Create","createPost","Navbar","activeItem","setActiveItem","to","faUsers","faPen","faListUl","faTimes","Layout","RequireAuth","App","exact","path","element","ReactDOM","render","document","getElementById"],"mappings":"0OAEMA,EAAe,CACjBC,iBAAiB,EAEjBC,OAAO,WAAD,4BAAE,WAAOC,EAAMC,EAAUC,GAAvB,mBAAAC,EAAA,+EAEuBC,IAAMC,KAAKC,wDAA4CN,GAF9E,gBAEQO,EAFR,EAEQA,KACRN,EAASM,GACTV,EAAaC,iBAAkB,EAJ/B,gDAMQU,EANR,KAMQA,SACRN,EAAMM,GAPN,yDAAF,uDAAC,GAWPC,QAAS,SAACR,GACNJ,EAAaC,iBAAkB,EAC/BG,GAAYA,M,OCfPS,EAAcC,0BA2BZC,EAzBM,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACpB,EAAsBC,mBAAS,MAA/B,mBAAKC,EAAL,KAAWC,EAAX,KAmBIC,EAAQ,CAAEF,OAAMG,OAjBP,SAAClB,EAAMC,EAAUC,GAC1B,OAAOL,EAAaE,OAAOC,GACvB,SAACO,GACGS,EAAQT,GACRN,MAEJC,IAWoBiB,QAPd,SAAClB,GACX,OAAOJ,EAAaY,SAAQ,WACxBO,EAAQ,MACRf,SAMR,OAAO,cAACS,EAAYU,SAAb,CAAsBH,MAAOA,EAA7B,SAAqCJ,K,QCzB1CQ,EAAY,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,GAAIC,EAAkB,EAAlBA,YACjC,OACI,sBAAKC,UAAU,iCAAf,UACI,uBAAOA,UAAU,cAAcC,QAASJ,EAAxC,SAA+CA,IAC/C,uBAAOG,UAAU,iDAAiDJ,KAAMA,EAAME,GAAIA,EAAID,KAAMC,EAAIC,YAAaA,QAgB1GG,EAXF,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,MAAOC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,aAC/B,OACI,uBAAML,UAAU,oEAAoEM,SAAUD,EAA9F,iBAEQF,QAFR,IAEQA,OAFR,EAEQA,EAAOI,KAAI,SAACC,GAAD,OAAQ,cAAC,EAAD,CAA4BZ,KAAMY,EAAGZ,KAAMC,KAAMW,EAAGX,KAAMC,GAAIU,EAAGV,GAAIC,YAAaS,EAAGT,aAArEU,yBAEvC,wBAAQT,UAAU,yDAAyDJ,KAAK,SAAhF,SAA0FQ,QCdzFM,EAAU,WACnB,OAAOC,qBAAW3B,IC2CP4B,EA3CD,WAAO,IAAD,IAMVC,EAAWC,cACXC,EAAWC,cACXC,EAAOP,IAETQ,GAAO,UAAAH,EAASI,aAAT,mBAAgBD,YAAhB,eAAsBE,WAAY,IAyB7C,OACI,sBAAKpB,UAAU,8GAAf,UACI,qBAAIA,UAAU,oBAAd,4BAA8C,uBAAM,sBAAMA,UAAU,YAAhB,+DACpD,cAAC,EAAD,CAAMG,MArCA,CAChB,CAAEP,KAAM,OAAQC,KAAM,UAAWC,GAAI,WAAYC,YAAa,cAC9D,CAAEH,KAAM,WAAYC,KAAM,gBAAcC,GAAI,WAAYC,YAAa,WAmCvCK,WAAY,oBAAkBC,aA1B1D,SAAsBgB,GAClBA,EAAEC,iBAEF,IAAMC,EAAW,IAAIC,SAASH,EAAEI,QAC1BC,EAAWC,MAAMT,KAAKK,EAASK,UAErC,GAAIF,EAASG,MAAK,SAAArB,GAAE,MAAW,KAAPA,MAAckB,EAASI,QAAU,EACrDC,MAAM,sCADV,CAKA,IAAMzD,EAAO0D,OAAOC,YAAYV,EAASW,WAEzCjB,EAAKzB,OAAOlB,GACZ,WACIuC,EAASK,EAAM,CAAEiB,SAAS,OAE9B,WACIJ,MAAM,oB,8BCxBZK,EAAU,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,YAAahD,EAAW,EAAXA,KAC5B,OACI,sBAAKW,UAAU,kEAAf,UACI,qBAAIA,UAAU,YAAd,cAA4BX,EAAKiD,YACjC,6BAAMD,QAKZE,EAAa,SAAC,GAA+B,IAAD,EAA5BC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,cACpBC,EAAOC,iBAAO,MACpB,EAAoCvD,qBAApC,mBAAOwD,EAAP,KAAmBC,EAAnB,KACM5B,EAAOP,IAEb,EAA0BoC,YAAS,CAC/BC,IAAI,GAAD,OAAKnE,4CAAL,yBAA+C4D,GAClDQ,OAAQ,QACRC,QAAS,CACLC,cAAc,UAAD,cAAYjC,QAAZ,IAAYA,GAAZ,UAAYA,EAAM5B,YAAlB,aAAY,EAAY8D,SAE1C,CAAEC,QAAQ,IANJC,EAAT,oBAL8C,4CAa9C,WAAwBhC,GAAxB,iBAAA5C,EAAA,yDACI4C,EAAEC,iBAE2B,MAArB,OAAJoB,QAAI,IAAJA,GAAA,UAAAA,EAAMY,eAAN,eAAe/D,OAHvB,uBAIQwC,MAAM,yCAJd,mDAScsB,EAAc,CAAExE,KAAM,CAAEwD,YAAW,OAAEK,QAAF,IAAEA,GAAF,UAAEA,EAAMY,eAAR,aAAE,EAAe/D,SATlE,uBAUckD,IAVd,OAYQI,EAAc,IAZtB,kDAcQU,QAAQC,IAAI,KAAI1E,UAChBiD,MAAM,SAfd,2DAb8C,sBAgC9C,OACI,sBAAM/B,UAAU,mBAAmBM,SAjCO,4CAiC1C,SACI,uBAAOmD,IAAKf,EACR1C,UAAU,8DACVJ,KAAK,OACLL,MAAOqD,EACP7C,YAAY,kCACZ2D,SAAU,SAACrC,GAAD,OAAOwB,EAAcxB,EAAEI,OAAOlC,aA8HzCoE,EAxHF,SAAC,GAAc,IAAD,UAAXhF,EAAW,EAAXA,KACNsC,EAAOP,IACb,EAAgCtB,qBAAhC,mBAAOwE,EAAP,KAAiBC,EAAjB,KACM9C,EAAWC,cAEjB,EAAwC5B,mBAAST,GAAjD,mBAAOmF,EAAP,KAAqBC,EAArB,KACA,EAAwC3E,oBAAS,GAAjD,mBAAO4E,EAAP,KAAqBC,EAArB,KACA,EAAgC7E,mBAAS0E,EAAaI,QAAtD,mBAAOC,EAAP,KAAiBC,EAAjB,KAEA,EAAmBtB,YAAS,CACxBC,IAAI,GAAD,OAAKnE,4CAAL,qBAA2CkF,EAAaO,KAC3DpB,QAAS,CACLC,cAAc,UAAD,cAAYjC,QAAZ,IAAYA,GAAZ,UAAYA,EAAM5B,YAAlB,aAAY,EAAY8D,SAE1C,CAAEC,QAAQ,IALJkB,EAAT,oBAOA,EAAqBxB,YAAS,CAC1BC,IAAI,GAAD,OAAKnE,4CAAL,sBAA4CkF,EAAaO,KAC5DrB,OAAQ,QACRC,QAAS,CACLC,cAAc,UAAD,cAAYjC,QAAZ,IAAYA,GAAZ,UAAYA,EAAM5B,YAAlB,aAAY,EAAY8D,SAE1C,CAAEC,QAAQ,IANJmB,EAAT,oBAQA,EAAuBzB,YAAS,CAC5BC,IAAI,GAAD,OAAKnE,4CAAL,wBAA8CkF,EAAaO,KAC9DrB,OAAQ,QACRC,QAAS,CACLC,cAAc,UAAD,cAAYjC,QAAZ,IAAYA,GAAZ,UAAYA,EAAM5B,YAAlB,aAAY,EAAY8D,SAE1C,CAAEC,QAAQ,IANJoB,EAAT,oBAxBuB,SAgCR/B,EAhCQ,8EAgCvB,WAA6BlE,GAA7B,iBAAAE,EAAA,mEAEYF,EAFZ,gCAGkBA,IAHlB,uBAKyC+F,IALzC,gBAKoBG,EALpB,EAKc5F,KACNkF,EAAgBU,GANxB,kDAQkC,QAAtB1D,EAASK,SACTW,MAAM,oBAENA,MAAM,aAXlB,2DAhCuB,sBAgEvB,OAjBA2C,qBAAU,WAAM,4CACZ,8BAAAjG,EAAA,+EAEwBC,IAAMiG,IAAN,UAAa/F,4CAAb,gBAAsD,CAClEqE,QAAS,CACLC,cAAc,UAAD,cAAYjC,QAAZ,IAAYA,GAAZ,UAAYA,EAAM5B,YAAlB,aAAY,EAAY8D,UAJrD,OAEYyB,EAFZ,OAOQf,EAAYe,EAAI/F,KAAKyD,UAP7B,gDASQP,MAAM,SATd,0DADY,uBAAC,WAAD,wBAcZ8C,KACD,IAGC,sBAAK7E,UAAU,qFAAf,UAE8B,QAAtBe,EAASK,UAA2C,WAAjB,OAAJH,QAAI,IAAJA,GAAA,UAAAA,EAAM5B,YAAN,eAAYyF,MAE3C,qBACI9E,UAAS,qGACNmE,GAAY,gBACfY,QAAS,WACLtC,EAAc+B,GACdJ,GAAaD,IALrB,SAQI,cAAC,IAAD,CAAMa,KAAMC,QAGhB,sBACIjF,UAAS,qGACN8D,EAAaoB,MAAMrD,MAAK,SAAArB,GAAE,OAAIA,EAAG8B,WAAasB,MAAa,gBAC9DmB,QAAS,kBAAMtC,EAAc8B,IAHjC,UAKI,cAAC,IAAD,CAAMS,KAAMG,MACZ,sBAAMnF,UAAU,UAAhB,mBAA2B8D,EAAaoB,MAAMpD,cAA9C,QAAwD,OAGhE,sBAAK9B,UAAU,wDAAf,UACI,qBAAIA,UAAU,mCAAd,eAAqD8D,EAAazE,KAAKiD,YACvE,oBAAItC,UAAU,uBAAd,SAAuC8D,EAAasB,WAGpDtB,EAAauB,OACb,qBAAKrF,UAAU,UAAf,SACI,qBAAKA,UAAU,6BAA6BsF,IAAKxB,EAAauB,MAAOE,IAAKzB,EAAasB,UAG/F,qBAAKpF,UAAU,iCAAf,SACI,4BAAK8D,EAAazB,gBAEtB,qBAAKrC,UAAU,iEAAiE+E,QAAS,kBAAMd,GAAiBD,IAAhH,SAEQF,EAAa0B,SAAS1D,OAAS,GAC3B,iCACI,cAAC,IAAD,CAAMkD,KAAMS,MADhB,4BAKZ,gCAESzB,GAAiBF,EAAa0B,SAASjF,KAAI,SAACC,GAAD,OAAQ,cAAC,EAAD,CAA4B6B,YAAa7B,EAAG6B,YAAahD,KAAMmB,EAAGnB,MAAnDoB,yBAEvE,cAAC,EAAD,CAAY+B,OAAQsB,EAAaO,IAAK5B,cAAeA,WCnItDiD,EAvCH,WAAO,IAAD,EACRzE,EAAOP,IACb,EAA4BtB,mBAAS,CAAEuG,MAAO,GAAIC,KAAM,IAAxD,mBAAOC,EAAP,KAAeC,EAAf,KAEA,EAA4BhD,YAAS,CACjCC,IAAKnE,qDACLmH,OAAQF,EACR5C,QAAS,CACLC,cAAc,UAAD,cAAYjC,QAAZ,IAAYA,GAAZ,UAAYA,EAAM5B,YAAlB,aAAY,EAAY8D,SAE1C,CAAEC,QAAQ,IANb,mBAASvE,EAAT,KAASA,KAAQmH,EAAjB,KAYA,SAASC,EAAmBC,GACpBL,EAAOD,KAAOM,EAAYrH,EAAKsH,OAASN,EAAOD,KAAOM,EAAY,GAGlEJ,EAAU,2BAAKD,GAAN,IAAcD,KAAMC,EAAOD,KAAOM,KAGnD,OAXAxB,qBAAU,WACNsB,MACD,CAACH,EAAQG,IAUR,sBAAKhG,UAAU,oDAAf,UACI,qBAAKA,UAAU,yBAAf,SACI,sBAAKA,UAAU,iDAAf,UACI,cAAC,IAAD,CAAMgF,KAAMoB,IAAarB,QAAS,kBAAMkB,GAAoB,MADhE,qBAE2B,OAAJpH,QAAI,IAAJA,OAAA,EAAAA,EAAM+G,MAAO,EAChC,cAAC,IAAD,CAAMZ,KAAMqB,IAActB,QAAS,kBAAMkB,EAAmB,YAI5D,OAAJpH,QAAI,IAAJA,OAAA,EAAAA,EAAMA,QAAN,OAAcA,QAAd,IAAcA,OAAd,EAAcA,EAAMA,KAAK0B,KAAI,SAACC,GAAD,OAAQ,cAAC,EAAD,CAAyB7B,KAAM6B,GAAnBC,8BCSlD6F,EA1CD,WAAO,IAAD,EACVrF,EAAOP,IACb,EAA4BtB,mBAAS,CAAEuG,MAAO,GAAIC,KAAM,IAAxD,mBAAOC,EAAP,KAAeC,EAAf,KAEA,EAA4BhD,YAAS,CACjCC,IAAKnE,uDACLmH,OAAQF,EACR5C,QAAS,CACLC,cAAc,UAAD,cAAYjC,QAAZ,IAAYA,GAAZ,UAAYA,EAAM5B,YAAlB,aAAY,EAAY8D,SAE1C,CAAEC,QAAQ,IANb,mBAASvE,EAAT,KAASA,KAAQmH,EAAjB,KAYA,SAASC,EAAmBC,GACpBL,EAAOD,KAAOM,EAAYrH,EAAKsH,OAASN,EAAOD,KAAOM,EAAY,GAGlEJ,EAAU,2BAAKD,GAAN,IAAcD,KAAMC,EAAOD,KAAOM,KAGnD,OAXAxB,qBAAU,WACNsB,MACD,CAACH,EAAQG,KASPnH,GAAQA,EAAKA,KAAKiD,QAAU,EACtB,mDAGP,sBAAK9B,UAAU,oDAAf,UACI,qBAAKA,UAAU,yBAAf,SACI,sBAAKA,UAAU,iDAAf,UACI,cAAC,IAAD,CAAMgF,KAAMoB,IAAarB,QAAS,kBAAMkB,GAAoB,MADhE,qBAE2B,OAAJpH,QAAI,IAAJA,OAAA,EAAAA,EAAM+G,MAAO,EAChC,cAAC,IAAD,CAAMZ,KAAMqB,IAActB,QAAS,kBAAMkB,EAAmB,YAI5D,OAAJpH,QAAI,IAAJA,OAAA,EAAAA,EAAMA,QAAN,OAAcA,QAAd,IAAcA,OAAd,EAAcA,EAAMA,KAAK0B,KAAI,SAACC,GAAD,OAAQ,cAAC,EAAD,CAAyB7B,KAAM6B,GAAnBC,8BCOlD8F,EA/CA,WAAO,IAAD,EACXtF,EAAOP,IAQb,EAAuBoC,YAAS,CAC5BC,IAAI,GAAD,OAAKnE,4CAAL,gBACHoE,OAAQ,OACRC,QAAS,CACLC,cAAc,UAAD,cAAYjC,QAAZ,IAAYA,GAAZ,UAAYA,EAAM5B,YAAlB,aAAY,EAAY8D,SAE1C,CAAEC,QAAQ,IANJoD,EAAT,oBATiB,4CAiBjB,WAA4BnF,GAA5B,iBAAA5C,EAAA,yDACI4C,EAAEC,iBADN,SAIcC,EAAW,IAAIC,SAASH,EAAEI,SACfE,MAAMT,KAAKK,EAASK,UAExBC,MAAK,SAAArB,GAAE,MAAW,KAAPA,KAPhC,uBAQYuB,MAAM,+BARlB,iCAYczD,EAAO0D,OAAOC,YAAYV,EAASW,WAZjD,UAccsE,EAAW,CAAE3H,KAAMP,IAdjC,QAgBQyD,MAAM,eAhBd,kDAkBQA,MAAM,SACNwB,QAAQC,IAAI,KAAI1E,UAnBxB,2DAjBiB,sBAwCjB,OACI,qBAAKkB,UAAU,8GAAf,SACI,cAAC,EAAD,CAAMG,MAvCA,CACV,CAAEP,KAAM,OAAQC,KAAM,SAAUC,GAAI,QAASC,YAAa,WAChE,CAAEH,KAAM,OAAQC,KAAM,cAAeC,GAAI,cAAeC,YAAa,oCAC/D,CAAEH,KAAM,OAAQC,KAAM,SAAUC,GAAI,QAASC,YAAa,qBAoClCK,WAAY,QAASC,aA1ChC,iDCiDNoG,EA/CA,WAAO,IAAD,IACXxF,EAAOP,IACPG,EAAWC,cACjB,EAAsC1B,mBAAS,GAA/C,mBAAQsH,EAAR,KAAoBC,EAApB,KAEA,OACI,sBAAK3G,UAAU,+EAAf,UAE6B,WAAjB,OAAJiB,QAAI,IAAJA,GAAA,UAAAA,EAAM5B,YAAN,eAAYyF,OACZ,eAAC,IAAD,CACI8B,GAAG,MACH5G,UAAS,sFAAiG,IAAf0G,GAAoB,iBAC/G3B,QAAS,kBAAM4B,EAAc,IAHjC,UAKI,cAAC,IAAD,CAAM3B,KAAM6B,MACZ,sBAAM7G,UAAU,UAAhB,0BAIgB,WAApB,UAAAiB,EAAK5B,YAAL,eAAWyF,OACX,eAAC,IAAD,CACI8B,GAAG,UACH5G,UAAS,sFAAiG,IAAf0G,GAAoB,iBAC/G3B,QAAS,kBAAM4B,EAAc,IAHjC,UAKI,cAAC,IAAD,CAAM3B,KAAM8B,MACZ,sBAAM9G,UAAU,UAAhB,sBAGR,eAAC,IAAD,CACI4G,GAAG,IACH5G,UAAS,sFAAiG,IAAf0G,GAAoB,iBAC/G3B,QAAS,kBAAM4B,EAAc,IAHjC,UAKI,cAAC,IAAD,CAAM3B,KAAM+B,MACZ,sBAAM/G,UAAU,UAAhB,0BAEJ,yBAAQ+E,QAAS,WACb9D,EAAKxB,SAAQ,kBAAMoB,EAAS,cAC7Bb,UAAU,8EAFb,UAGI,cAAC,IAAD,CAAMgF,KAAMgC,MACZ,sBAAMhH,UAAU,UAAhB,0BCjCDiH,EAXA,WACX,OACI,qCACI,cAAC,EAAD,IACA,qBAAKjH,UAAU,MAAf,SACI,cAAC,IAAD,UCMDkH,EAXK,SAAC,GAAkB,IAAhB/H,EAAe,EAAfA,SACb8B,EAAOP,IACPK,EAAWC,cAEjB,OAAKC,EAAK5B,KAIHF,EAHI,cAAC,IAAD,CAAUyH,GAAG,SAASzF,MAAO,CAAED,KAAMH,MCkDrCoG,EAtCH,WACX,OACC,cAAC,IAAD,UACC,cAAC,EAAD,UACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,SAASC,QAAS,cAAC,EAAD,MACpC,eAAC,IAAD,CAAOA,QAAS,cAAC,EAAD,IAAhB,UACC,cAAC,IAAD,CACCF,OAAK,EAACC,KAAK,MACXC,QACC,cAAC,EAAD,UACC,cAAC,EAAD,QAIH,cAAC,IAAD,CACCF,OAAK,EAACC,KAAK,UACXC,QACC,cAAC,EAAD,UACC,cAAC,EAAD,QAIH,cAAC,IAAD,CACCF,OAAK,EAACC,KAAK,IACXC,QACC,cAAC,EAAD,UACC,cAAC,EAAD,mBCzCTC,IAASC,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.0b64af7d.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst authProvider = {\n    isAuthenticated: false,\n    \n    signin: async (body, callback, error) => {\n        try {\n            const { data } = await axios.post(process.env.REACT_APP_API + \"/auth/signin\", body);\n            callback(data);\n            authProvider.isAuthenticated = true;\n        } catch(err) {\n            const { response } = err;\n            error(response);\n        }\n    },\n\n    signout: (callback) => {\n        authProvider.isAuthenticated = false;\n        callback && callback();\n    }\n}\n\nexport { authProvider };\n","import { createContext, useState } from 'react';\nimport { authProvider } from '../Providers/authProvider';\n\nexport const AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n    let [user, setUser] = useState(null);\n\n    let signIn = (body, callback, error) => {\n        return authProvider.signin(body, \n            (data) => {\n                setUser(data);\n                callback();\n            },\n            error\n        )\n    }\n\n    let signOut = (callback) => {\n        return authProvider.signout(() => {\n            setUser(null);\n            callback();\n        })\n    }\n\n    let value = { user, signIn, signOut };\n\n    return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n\nexport default AuthProvider;","import { generate } from \"shortid\";\n\nconst FormGroup = ({ type, name, id, placeholder }) => {\n    return (\n        <div className=\"w-full flex flex-col space-y-2\">\n            <label className=\"font-medium\" htmlFor={name}>{name}</label>\n            <input className=\"px-3 py-1 rounded-full border-2 border-primary\" type={type} id={id} name={id} placeholder={placeholder} />\n        </div>\n    )\n}\n\nconst Form = ({ items, submitText, handleSubmit }) => {\n    return (\n        <form className=\"w-full bg-white rounded-2xl p-4 space-y-8 flex flex-col items-end\" onSubmit={handleSubmit}>\n            {\n                items?.map((it) => <FormGroup key={generate()} type={it.type} name={it.name} id={it.id} placeholder={it.placeholder} />)\n            }\n            <button className=\"text-white bg-primary font-bold rounded-full px-4 py-2\" type=\"submit\">{submitText}</button>\n        </form>\n    );\n}\n\nexport default Form;","import { useContext } from \"react\"\nimport { AuthContext } from \"../Context/AuthContext\"\n\nexport const useAuth = () => {\n    return useContext(AuthContext);\n}","import { useLocation, useNavigate } from \"react-router-dom\";\nimport Form from \"../Components/Form\";\nimport { useAuth } from \"../Hooks/useAuth\";\n\nconst Login = () => {\n    const items = [\n\t\t{ type: 'text', name: 'Usuario', id: 'username', placeholder: 'Juan Perez' },\n\t\t{ type: 'password', name: 'Contraseña', id: 'password', placeholder: '******' }\n\t];\n\n    const navigate = useNavigate();\n    const location = useLocation();\n    const auth = useAuth();\n\n    let from = location.state?.from?.pathname || \"/\";\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        const formData = new FormData(e.target);\n        const validate = Array.from(formData.values());\n\n        if (validate.some(it => it === \"\") || validate.length <= 0) {\n            alert('Llena todos los campos primero');\n            return;\n        }\n\n        const body = Object.fromEntries(formData.entries());\n\n        auth.signIn(body, \n        () => {\n            navigate(from, { replace: true });\n        },\n        () => {\n            alert('error');\n        })\n\n    }\n    \n    return (\n        <div className=\"-mt-10 w-screen h-screen px-10 flex flex-col items-center justify-center space-y-10 max-w-screen-sm mx-auto\">\n            <h1 className=\"font-bold text-lg\">¡Bienvenido!<br /><span className=\"text-base\">Inicia sesión para acceder a las páginas</span></h1>\n            <Form items={items} submitText={\"Iniciar sesión\"} handleSubmit={handleSubmit} />\n        </div>\n    )\n}\n\nexport default Login;","import useAxios from \"axios-hooks\";\n\nimport { FontAwesomeIcon as Icon } from \"@fortawesome/react-fontawesome\";\nimport { faComment, faHeart, faEye } from \"@fortawesome/free-solid-svg-icons\";\nimport { generate } from \"shortid\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { useAuth } from \"../../Hooks/useAuth\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Comment = ({ description, user }) => {\n    return (\n        <div className=\"text-xs px-4 py-2 space-y-2 border-t border-gray-400 lg:text-sm\">\n            <h1 className=\"font-bold\">@{user.username}</h1>\n            <h2>{ description }</h2>\n        </div>\n    )\n}\n\nconst AddComment = ({ postId, triggerUpdate }) => {\n    const comm = useRef(null);\n    const [emptyInput, setEmptyInput] = useState();\n    const auth = useAuth();\n\n    const [, createComment] = useAxios({\n        url: `${process.env.REACT_APP_API}/post/comment/${postId}`,\n        method: 'PATCH',\n        headers: {\n            Authorization: `Bearer ${auth?.user?.token}`\n        }\n    }, { manual: true });\n\n    async function onSubmit(e) {\n        e.preventDefault();\n\n        if (comm?.current?.value === \"\") {\n            alert('No puedes agregar un comentario vacio');\n            return;\n        }\n\n        try {\n            await createComment({ data: { description: comm?.current?.value } });\n            await triggerUpdate();\n\n            setEmptyInput('');\n        } catch(err) {\n            console.log(err.response);\n            alert('error');\n        }\n    }\n\n    return (\n        <form className=\"w-full px-4 my-2\" onSubmit={onSubmit}>\n            <input ref={comm} \n                className=\"w-full rounded-lg px-2 py-1 border-2 border-primary text-sm\" \n                type=\"text\"\n                value={emptyInput}\n                placeholder=\"Presiona enter para comentar...\"\n                onChange={(e) => setEmptyInput(e.target.value)}\n            />\n        </form>\n    )\n}\n\nconst Post = ({ post }) => {\n    const auth = useAuth();\n    const [identity, setIdentity] = useState();\n    const location = useLocation();\n\n    const [internalPost, setInternalPost] = useState(post);\n    const [showComments, setShowComments] = useState(false);\n    const [isActive, setIsActive] = useState(internalPost.active);\n\n    const [, update] = useAxios({\n        url: `${process.env.REACT_APP_API}/post/one/${internalPost._id}`,\n        headers: {\n            Authorization: `Bearer ${auth?.user?.token}`\n        }\n    }, { manual: true });\n\n    const [, likePost] = useAxios({\n        url: `${process.env.REACT_APP_API}/post/like/${internalPost._id}`,\n        method: 'PATCH',\n        headers: {\n            Authorization: `Bearer ${auth?.user?.token}`\n        }\n    }, { manual: true });\n\n    const [, togglePost] = useAxios({\n        url: `${process.env.REACT_APP_API}/post/toggle/${internalPost._id}`,\n        method: 'PATCH',\n        headers: {\n            Authorization: `Bearer ${auth?.user?.token}`\n        }\n    }, { manual: true });\n\n    async function triggerUpdate(callback) {\n        try {\n            if (callback)\n                await callback();\n\n            let { data: updateData } = await update();\n            setInternalPost(updateData);\n        } catch(err) {\n            if (location.pathname === \"/my\")\n                alert('Post desactivado');\n            else\n                alert('error sad');\n        }\n    }\n\n    useEffect(() => {\n        async function getIdentity() {\n            try {\n                let res = await axios.get(`${process.env.REACT_APP_API}/auth/whoami`, {\n                    headers: {\n                        Authorization: `Bearer ${auth?.user?.token}`\n                    }\n                });\n                setIdentity(res.data.username);\n            } catch(err) {\n                alert('Error');\n            }\n        }\n\n        getIdentity();\n    }, []);\n\n    return (\n        <div className=\"w-full rounded-lg bg-gray-300 flex flex-col mb-6 md:w-2/5 md:m-4 lg:w-1/4 relative\">\n            {\n                location.pathname === \"/my\" && auth?.user?.role === \"admin\"\n                ?\n                <div \n                    className={`absolute top-0 right-0 p-2 space-x-1 flex items-center cursor-pointer\n                    ${ isActive && 'text-red-800' }`}\n                    onClick={() => { \n                        triggerUpdate(togglePost);\n                        setIsActive(!isActive);\n                    }}\n                >\n                    <Icon icon={faEye} />\n                </div>\n                :\n                <div \n                    className={`absolute top-0 right-0 p-2 space-x-1 flex items-center cursor-pointer\n                    ${ internalPost.likes.some(it => it.username === identity) && 'text-red-800' }`}\n                    onClick={() => triggerUpdate(likePost)}\n                >\n                    <Icon icon={faHeart} />\n                    <span className=\"text-xs\">{internalPost.likes.length ?? 0}</span>\n                </div>\n            }\n            <div className=\"bg-gray-400 rounded-t px-4 py-2 font-medium space-y-2\">\n                <h1 className=\"text-xs text-gray-800 lg:text-sm\">@ { internalPost.user.username }</h1>\n                <h2 className=\"text-sm lg:text-base\">{ internalPost.title }</h2>\n            </div>\n            {\n                internalPost.image && \n                <div className=\"w-full \">\n                    <img className=\"h-40 w-full object-contain\" src={internalPost.image} alt={internalPost.title} />\n                </div>\n            }\n            <div className=\"px-4 py-2 text-sm lg:text-base\">\n                <p>{ internalPost.description }</p>\n            </div>\n            <div className=\"w-full bg-gray-400 text-center py-2 cursor-pointer select-none\" onClick={() => setShowComments(!showComments)}>\n                {\n                    internalPost.comments.length > 0 && \n                        <span>\n                            <Icon icon={faComment} /> Mostrar comentarios\n                        </span>\n                }\n            </div>\n            <div>\n                {\n                    (showComments) && internalPost.comments.map((it) => <Comment key={ generate() } description={it.description} user={it.user} />)\n                }\n                <AddComment postId={internalPost._id} triggerUpdate={triggerUpdate} />\n            </div>\n        </div>\n    )\n}\n\nexport default Post;\n","import Post from \"../Components/Posts/Post\";\nimport useAxios from \"axios-hooks\";\nimport { useAuth } from \"../Hooks/useAuth\";\nimport { useEffect, useState } from \"react\";\nimport { generate } from \"shortid\";\nimport { FontAwesomeIcon as Icon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft, faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\n\nconst All = () => {\n    const auth = useAuth();\n    const [paging, setPaging] = useState({ limit: 14, page: 0 });\n\n    const [{ data }, fetcher] = useAxios({\n        url: process.env.REACT_APP_API + \"/post/all\",\n        params: paging,\n        headers: {\n            Authorization: `Bearer ${auth?.user?.token}`\n        }\n    }, { manual: true });\n\n    useEffect(() => {\n        fetcher();\n    }, [paging, fetcher]);\n\n    function setLimitsForPaging(increment) {\n        if (paging.page + increment > data.pages || paging.page + increment < 0)\n            return;\n        else\n            setPaging({ ...paging, page: paging.page + increment });\n    }\n\n    return (\n        <div className=\"w-full flex flex-wrap items-center justify-center\">\n            <div className=\"w-full bg-primary py-4\">\n                <div className=\"w-1/3 flex justify-evenly mx-auto items-center\">\n                    <Icon icon={faArrowLeft} onClick={() => setLimitsForPaging(-1)}/>\n                    Mostrando pagina { data?.page + 1 }\n                    <Icon icon={faArrowRight} onClick={() => setLimitsForPaging(1)}/>\n                </div>\n            </div>\n            {\n                data?.data && data?.data.map((it) => <Post key={ generate() } post={it}/>)\n            }\n        </div>\n    )\n}\n\nexport default All;","import Post from \"../Components/Posts/Post\";\nimport useAxios from \"axios-hooks\";\nimport { useAuth } from \"../Hooks/useAuth\";\nimport { useEffect, useState } from \"react\";\nimport { generate } from \"shortid\";\nimport { FontAwesomeIcon as Icon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft, faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Owned = () => {\n    const auth = useAuth();\n    const [paging, setPaging] = useState({ limit: 14, page: 0 });\n\n    const [{ data }, fetcher] = useAxios({\n        url: process.env.REACT_APP_API + \"/post/owned\",\n        params: paging,\n        headers: {\n            Authorization: `Bearer ${auth?.user?.token}`\n        }\n    }, { manual: true });\n\n    useEffect(() => {\n        fetcher();\n    }, [paging, fetcher]);\n\n    function setLimitsForPaging(increment) {\n        if (paging.page + increment > data.pages || paging.page + increment < 0)\n            return;\n        else\n            setPaging({ ...paging, page: paging.page + increment });\n    }\n\n    if (!data || data.data.length <= 0)\n        return <div>Sin posts aun...</div>\n\n    return (\n        <div className=\"w-full flex flex-wrap items-center justify-center\">\n            <div className=\"w-full bg-primary py-4\">\n                <div className=\"w-1/3 flex justify-evenly mx-auto items-center\">\n                    <Icon icon={faArrowLeft} onClick={() => setLimitsForPaging(-1)}/>\n                    Mostrando pagina { data?.page + 1 }\n                    <Icon icon={faArrowRight} onClick={() => setLimitsForPaging(1)}/>\n                </div>\n            </div>\n            {\n                data?.data && data?.data.map((it) => <Post key={ generate() } post={it}/>)\n            }\n        </div>\n    )\n}\n\nexport default Owned;","import useAxios from \"axios-hooks\";\nimport Form from \"../Components/Form\";\nimport { useAuth } from \"../Hooks/useAuth\";\n\nconst Create = () => {\n    const auth = useAuth();\n\n    const items = [\n        { type: 'text', name: 'Titulo', id: 'title', placeholder: 'Mi post' },\n\t\t{ type: 'text', name: 'Descripcion', id: 'description', placeholder: 'La descripcion de mi primer post' },\n        { type: 'text', name: 'Imagen', id: 'image', placeholder: 'Url de tu imagen' },\n    ]\n\n    const [, createPost] = useAxios({\n        url: `${process.env.REACT_APP_API}/post/create`,\n        method: 'POST',\n        headers: {\n            Authorization: `Bearer ${auth?.user?.token}`\n        }\n    }, { manual: true })\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n\n        try {\n            const formData = new FormData(e.target);\n            const validate = Array.from(formData.values());\n\n            if (validate.some(it => it === \"\")) {\n                alert('Llena los campos necesarios');\n                return;\n            }\n\n            const body = Object.fromEntries(formData.entries());\n\n            await createPost({ data: body })\n\n            alert('Post creado');\n        } catch(err) {\n            alert('error');\n            console.log(err.response);\n        }\n    }\n    \n    return (\n        <div className=\"-mt-10 w-screen h-screen px-10 flex flex-col items-center justify-center space-y-10 max-w-screen-sm mx-auto\">\n            <Form items={items} submitText={\"Crear\"} handleSubmit={handleSubmit} />\n        </div>\n    )\n}\n\nexport default Create;\n","import { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\nimport { faUsers, faPen, faListUl, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../Hooks/useAuth';\nimport { useState } from 'react';\n\nconst Navbar = () => {\n    const auth = useAuth();\n    const navigate = useNavigate();\n    const [ activeItem, setActiveItem ] = useState(3);\n\n    return (\n        <div className=\"vh-10 w-full bg-primary fixed bottom-0 flex justify-evenly items-center z-10\">\n            {\n                auth?.user?.role === \"admin\" &&\n                <Link \n                    to=\"/my\" \n                    className={`flex flex-col items-center justify-center space-y-2 md:text-2xl lg:text-3xl ${ activeItem === 1 && 'text-blue-800' }`}\n                    onClick={() => setActiveItem(1)}\n                >\n                    <Icon icon={faUsers} />\n                    <span className=\"text-xs\">Mis Posts</span>\n                </Link>\n            }\n            {\n                auth.user?.role === \"admin\" && \n                <Link\n                    to=\"/create\"\n                    className={`flex flex-col items-center justify-center space-y-2 md:text-2xl lg:text-3xl ${ activeItem === 2 && 'text-blue-800' }`}\n                    onClick={() => setActiveItem(2)}\n                >\n                    <Icon icon={faPen} />\n                    <span className=\"text-xs\">Crear</span>\n                </Link>\n            }\n            <Link \n                to=\"/\"\n                className={`flex flex-col items-center justify-center space-y-2 md:text-2xl lg:text-3xl ${ activeItem === 3 && 'text-blue-800' }`}\n                onClick={() => setActiveItem(3)}\n            >\n                <Icon icon={faListUl} />\n                <span className=\"text-xs\">Ver Todos</span>\n            </Link>\n            <button onClick={() => {\n                auth.signOut(() => navigate(\"/login\"));\n            }} className=\"flex flex-col items-center justify-center space-y-2 md:text-2xl lg:text-3xl\">\n                <Icon icon={faTimes} />\n                <span className=\"text-xs\">Salir</span>\n            </button>\n        </div>\n    )\n}\n\nexport default Navbar;","import { Outlet } from 'react-router-dom';\nimport Navbar from './Navbar';\n\nconst Layout = () => {\n    return (\n        <>\n            <Navbar />\n            <div className=\"p-4\">\n                <Outlet />\n            </div>\n        </>\n    )\n}\n\nexport default Layout;","import { useAuth } from \"../../Hooks/useAuth\";\nimport { useLocation, Navigate } from \"react-router-dom\";\n\nconst RequireAuth = ({ children }) => {\n    const auth = useAuth();\n    const location = useLocation();\n\n    if (!auth.user) {\n        return <Navigate to=\"/login\" state={{ from: location }} />\n    }\n\n    return children;\n}\n\nexport default RequireAuth;","import {\n\tRoutes,\n\tRoute\n} from 'react-router-dom';\n\nimport {HashRouter} from 'react-router-dom';\n\n// Context\nimport AuthProvider from \"./Context/AuthContext\";\n\n// Pages\nimport Login from './Pages/Login';\nimport All from './Pages/All';\nimport Owned from './Pages/Owned';\nimport Create from './Pages/Create';\n\n// Components\nimport Layout from \"./Components/Layout\";\nimport RequireAuth from './Components/Auth/RequireAuth';\n\nconst App = () => {\n\treturn (\n\t\t<HashRouter>\n\t\t\t<AuthProvider>\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route exact path=\"/login\" element={<Login />} />\n\t\t\t\t\t<Route element={<Layout />}>\n\t\t\t\t\t\t<Route \n\t\t\t\t\t\t\texact path=\"/my\" \n\t\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t\t<RequireAuth>\n\t\t\t\t\t\t\t\t\t<Owned />\n\t\t\t\t\t\t\t\t</RequireAuth>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route \n\t\t\t\t\t\t\texact path=\"/create\" \n\t\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t\t<RequireAuth>\n\t\t\t\t\t\t\t\t\t<Create />\n\t\t\t\t\t\t\t\t</RequireAuth>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route \n\t\t\t\t\t\t\texact path=\"/\" \n\t\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t\t<RequireAuth>\n\t\t\t\t\t\t\t\t\t<All />\n\t\t\t\t\t\t\t\t</RequireAuth>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Route>\n\t\t\t\t</Routes>\n\t\t\t</AuthProvider>\n\t\t</HashRouter>\n\t)\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);"],"sourceRoot":""}